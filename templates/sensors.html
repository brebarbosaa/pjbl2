{% extends "base.html" %}

{% block content %}
<div class="vertical-center">
  <div class="container mt-5 p-4" style="background-color: rgba(255, 255, 255, 0.95); border-radius: 10px;">
    <div class="justify-content-center">
      {% if devices|length > 0 %}
      <table id="view_sensors" class="table table-striped table-bordered" style="width:100%">
        <thead>
          <tr>
            <th>Sensor</th>
            <th>Valor</th>
            {% if session.get('is_admin') %}
            <th>Deletar</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for key, value in devices.items() %}
          <tr>
            <td>{{ key }}</td>
            <td>{{ value }}</td>
            {% if session.get('is_admin') %}
            <td><a href="{{ url_for('sensors.del_sensor', sensor=key) }}" class="btn btn-danger btn-sm">Deletar</a></td>
            {% endif %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% if session.get('is_admin') %}
      <form action="{{ url_for('sensors.register_sensor') }}">
        <p><input type="submit" class="btn btn-success" value="Adicionar Sensor" /></p>
      </form>
      {% endif %}
      {% else %}
      <p>Ainda não há sensores registrados!</p>
      {% if session.get('is_admin') %}
      <form action="{{ url_for('sensors.register_sensor') }}">
        <p><input type="submit" value="Adicionar Sensor" /></p>
      </form>
      {% endif %}
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
